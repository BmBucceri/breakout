[gd_scene load_steps=11 format=3 uid="uid://1eraj5cry3c2"]

[ext_resource type="Script" uid="uid://b8b32otwwftm1" path="res://score_counter.gd" id="1_33al8"]
[ext_resource type="Script" uid="uid://b6tlb3o6p10bs" path="res://level.gd" id="1_rv1el"]
[ext_resource type="PackedScene" uid="uid://buyvsud8eecnx" path="res://BlockBase.tscn" id="2_33al8"]
[ext_resource type="Script" uid="uid://brtvwoww4lon3" path="res://bounces_counter.gd" id="3_aou6q"]
[ext_resource type="Script" uid="uid://bdjmj8w35eetb" path="res://cannon.gd" id="4_3ddhe"]
[ext_resource type="Texture2D" uid="uid://bp7aipxx8ujmg" path="res://Assets/Dropper.png" id="5_3ddhe"]
[ext_resource type="Script" uid="uid://bh12bel430pjr" path="res://killbox.gd" id="6_jus2d"]
[ext_resource type="PackedScene" uid="uid://b0dac6bf3gfyu" path="res://BlockSpecial.tscn" id="8_sthq8"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3ddhe"]
size = Vector2(1156, 75)

[sub_resource type="GDScript" id="GDScript_aou6q"]
script/source = "extends Timer

func _ready() -> void:
	self.timeout.connect(_on_timer_timeout)
	
func _on_timer_timeout():
	if GameManager.bounces_left < GameManager.bounces_max:
		GameManager.increment_bounces(1)
"

[node name="ROOTLEVEL" type="Node2D"]
script = ExtResource("1_rv1el")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
metadata/_edit_lock_ = true

[node name="HBoxContainer" type="HBoxContainer" parent="UI/Control"]
custom_minimum_size = Vector2(0, 75)
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 60.0
grow_horizontal = 2

[node name="ScoreCounter" type="RichTextLabel" parent="UI/Control/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "Score tracker"
horizontal_alignment = 1
script = ExtResource("1_33al8")

[node name="Label" type="Label" parent="UI/Control/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 10
text = "Bounces left"
script = ExtResource("3_aou6q")

[node name="Blocks" type="Node2D" parent="."]

[node name="BlockBase10" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(496, 169)

[node name="BlockBase11" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(588, 169)

[node name="BlockBase12" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(680, 169)

[node name="BlockBase13" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(220, 169)

[node name="BlockBase14" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(312, 169)

[node name="BlockBase15" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(404, 169)

[node name="BlockBase16" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(772, 169)

[node name="BlockBase17" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(864, 169)

[node name="BlockBase18" parent="Blocks" instance=ExtResource("2_33al8")]
position = Vector2(956, 169)

[node name="Boundary" type="StaticBody2D" parent="."]
collision_layer = 3

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Boundary"]
polygon = PackedVector2Array(1, -2, 3, 643, 31, 645, 27, 19, 573.772, 18.0068, 1128, 17, 1125, 647, 1153, 649, 1149, 0)

[node name="Cannon" type="Node2D" parent="." node_paths=PackedStringArray("spawn_marker")]
position = Vector2(595, 627)
script = ExtResource("4_3ddhe")
spawn_marker = NodePath("SpawnLocation")
metadata/_edit_group_ = true

[node name="Dropper" type="Sprite2D" parent="Cannon"]
rotation = -3.14159
texture = ExtResource("5_3ddhe")

[node name="SpawnLocation" type="Marker2D" parent="Cannon"]
position = Vector2(0, -86)

[node name="Killbox" type="Area2D" parent="."]
position = Vector2(0, 25)
collision_layer = 0
collision_mask = 5
script = ExtResource("6_jus2d")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Killbox"]
position = Vector2(576, 653)
shape = SubResource("RectangleShape2D_3ddhe")

[node name="Timer" type="Timer" parent="."]
wait_time = 3.0
autostart = true
script = SubResource("GDScript_aou6q")

[node name="BlockSpecial" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(220, 80)

[node name="BlockSpecial2" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(312, 80)

[node name="BlockSpecial3" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(404, 80)

[node name="BlockSpecial4" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(496, 80)

[node name="BlockSpecial5" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(588, 80)

[node name="BlockSpecial6" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(680, 80)

[node name="BlockSpecial7" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(772, 80)

[node name="BlockSpecial8" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(864, 80)

[node name="BlockSpecial9" parent="." instance=ExtResource("8_sthq8")]
position = Vector2(956, 80)
